<html>
  <head>
    <title>Theseus - Maze Solving JS</title>
    <meta name="description" content="Creating and solving a maze in only 256 bytes of JavaScript. By Martin Kleppe aka @aemkei.">
    <meta name="theme-color" content="#222222" />
    <meta name="viewport" content="width=600px" />

    <meta name="twitter:site" content="@aemkei"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta property="og:image" content="http://aem1k.com/theseus/preview.png"/>
    <meta property="twitter:image" content="http://aem1k.com/theseus/preview.png"/>
    <meta property="og:title" content="Theseus - Maze Solving JS"/>
    <meta property="og:description" content="Creating and solving a maze in only 256 bytes of JavaScript. By Martin Kleppe aka @aemkei."/>

    <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
    <link href='http://aem1k.com/styles.css' rel='stylesheet' type='text/css'>
    <style>#p { line-height: 1em }</style>
  </head>
  <body>

    <div id="container">
      <h2>Theseus</h2>

      <p>Creating and solving a maze in only <br>256 bytes of JavaScript.</p>

      <pre id=p></pre>
      <script>for(S=12,c=A=66,z=[i=132];i--;)z[i]=i%S?5:-1;X=a=>(D=[S,1,-S,-1]).map((b,e,j)=>1<z[b=a+2*j[3&e+i]]&&(z[b]=z[(a+b)/2]=0,i=9*Math.random(),X(b))),X(S+2),F=0,setInterval(_=>{c==14?F=c=A:F||(z[c]=(z[c]+1)%4),5>z[n=c+D[z[c]]]&&(c=n),(Z=F?Z:z.slice``)[c]=4,Z[13]=4,p.innerText=Z.map(b=>"    +@"[b]||`
        `)},0)</script>

      <br>

      <h3>Minimal Source (256 bytes):</h3>
      <pre>
for(z=[c=66,i=132];i--;X=a=>_.map((b,e)=>
1&lt;z[b=a+2*_[3&e+i]]&&X(b,i=9*Math.random(
z[b]=z[(a+b)/2]=F=0))))_=[-12,z[i]=i%12?5
:-1,12,1];for(X(14);F&lt;2;F?0:$=[...z],$[13
]=$[c]=4)c^14?z[c]=z[c]+~F&3:c=++F&&66,5>
z[n=c+_[z[c]]]&&(c=n);""+$.map(b=>`
    +@`[++b])
      </pre>

      <h3>Links</h3>

      <ul>
        <li><a href="http://aem1k.com/">aem1k.com</a> - Home</li>
        <li><a href="https://github.com/aemkei/theseus">github.com/aemkei/theseus</a> - Source</li>
        <li><a href="https://speakerdeck.com/aemkei/fwdays">speakerdeck.com/aemkei/fwdays</a> - Presentation</li>
        <li><a href="http://cyberneticzoo.com/mazesolvers/1952-%E2%80%93-theseus-maze-solving-mouse-%E2%80%93-claude-shannon-american/">maze solving machine</a> - by Claude Shannon</li>
      </ul>

      <h3>Related script</h3>

      <pre>
S="\40\n";M="map";i=991;for(z
=       [                   ]
;   i   ;   )z[--i]=i%30?   8
:   S   [           1   ]   ;
F=d=>   [30,1,-30   ,   -   1
]       [           M   ]   (
(   f,g,h   )=>S[0]&lt;z   [   f
=   d                   +   2
*   h[3&g+i]]&&(z[f]=z[(d   +
f   )       /               2
]   =   S   [   0],i--,F(   f
)       )       )           ,
F(32);z+=S[1]//<b>aem1k.com/maze</b>
      </pre>

      A maze is a maze is a maze.

    </div>
  </body>
</html>

